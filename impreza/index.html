<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Impreza</title>
    <meta name="viewport" content="width=device-width">
</head>
<body>
<label>
    Szybkość zmiany koloru (mniej = szybciej)
    <input id="speed_color" type="number" min="0" value="0"/>
</label>
<br>
<label>
    Szybkość zmiany pozycji okna (mniej = szybciej)
    <input id="speed_window" type="number" min="1" value="200"/>
</label>
<br>
<button id="button">Otwórz / zamknij</button>
<script>
    let popup;
    const button = document.getElementById('button');

    function onClick() {
        if (!popup || popup?.closed) {
            const settings = {
                speed_color: document.getElementById('speed_color').value,
                speed_window: document.getElementById('speed_window').value
            };
            popup = window.open(`../epilepsja/index.html?${Object.entries(settings).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&')}`, 'Impreza', 'resizable=no, width=640, height=580');
        } else {
            popup.close();
            popup = null;
        }
    }

    button.addEventListener('click', onClick);
</script>
</body>
</html>
